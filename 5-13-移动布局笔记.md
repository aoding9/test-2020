笔记约定

*日期用\*\**

大阶段用===
===

# 主题用#
## 标题用##
### 小标题###
- 并列内容
  - 二级并列内容
#### 小小标题

大量并列的属性和描述等 用表格，少量用\`\`代码行

结构用代码块

*\*！注意点，要点\**
***\*\*\*\案例\*\*\****


*5-13*
*移动端布局*


# 移动端布局


## 移动端基础
### 常见移动端浏览器
- 国内常用的都是webkit修改来的内核，兼容移动端主流浏览器，处理webkit内核浏览器即可

### 手机屏幕现状
- 尺寸非常多，前端开发使用px，无需关注分辨率，了解即可

### 调试方法
- 谷歌浏览器调试工具模拟手机
- 搭建本地web服务器，手机服务器在同一个局域网内即可访问
- 使用外网服务器，直接ip或域名访问


## 视口
### viewport 就是浏览器显示页面内容的屏幕区域，分类如下：
- 布局视口  layout viewport
  - 一般移动端浏览器默认设置了一个布局视口，早期用于在手机上显示pc页面
  - iOS和Android基本都是980px，pc网页大多能在手机呈现，但是元素很小需要缩放，不方便
- 视觉视口  visual viewport
  - 指用户正在看到的网站区域
  - 可以缩放去操作视觉视口，但不会影响布局视口，布局视口宽度不变
- 理想视口  ideal viewport
  - 苹果提出的，为了使网页在移动端有最理想的浏览和阅读宽度而设定，对设备来讲是最理想的视口尺寸
  - 需要手动添加meta视口标签，通知浏览器操作
  - meta视口标签的主要目的：布局视口宽度和理想视口一致，设备有多宽，布局视口就多宽
  
### meta 视口标签
`<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0,maximum-scale=1.0, minimum-scale=1.0">

| 属性          | 说明                                   |
| ------------- | -------------------------------------- |
| width         | 设置视口宽度，device-width表示设备宽度 |
| initial-scale | 初始缩放比，大于0的数                  |
| maximum-scale | 最大缩放比，大于0                      |
| minimum=scale | 最小缩放比，大于0                      |
| user-scalable | 用户是否可以缩放，yes或no（1或0）      |

## 二倍图
### 物理像素与物理像素比
- 物理像素指屏幕显示最小单位，是物理真是存在
- pc端1px一般等于1物理像素，移动端开发中的1px不一定等于1物理像素
- 1px所能显示的物理像素点个数，称为物理像素比或屏幕像素比
>例如:iphone8中1px就对应屏幕上2物理像素
- pc和早期手机屏幕的1css像素=1物理像素
- 为了提高手机屏幕细腻程度，使用了一种Retina（视网膜屏幕）技术，将更多像素点压缩到一块屏幕里，从而达到更高分辨率

### 多倍图
- 由于使用Retina技术，图片在手机中会按物理像素比放大到原来的n倍，导致出现模糊
- 为解决此问题，需要提高图片质量，把图片预先放大n倍，然后缩放到屏幕上，这样缩放在当前倍数下就是无损缩放
- 背景图片处理方法类似
*!精灵图处理方法：首先确定原图宽高和位置坐标，然后拿坐标除以物理像素比，因为图片会放大n倍，坐标也跟着放大了，需要缩小回原来的，并且通过bg-size:图片宽度的一半（用px） auto来缩放图片，另一种简单方法是，先把图片缩小n倍，再进行测量，这样不用计算*

```background-size:x y;```
- x是水平方向的长度，y是垂直方向的长度
- 只写一个默认是设置宽度，高度等比拉伸
- 单位      长度|百分比|cover|contain
- cover     表示背景等比例完全拉伸覆盖盒子，没有空白
- contain   表示等比拉伸，直到铺满宽或高，任一铺满就不管了，可能有空白

## 移动端开发主流方案
- 单独制作移动端页面（主流）    根据设备判断，手机打开单独的移动端页面
- 响应式页面兼容移动端（其次）  根据屏幕宽度判断样式，只有一个页面，但是制作麻烦，很多兼容性问题    

## 移动端技术解决方案
### 移动端以webkit为主，可以放心使用H5C3，私有前缀只需添加webkit
### css初始化：normalize.css(github上使用广泛的一个css初始化)
- 这个css保护了有价值的默认值，修复了浏览器bug，是模块化的，有详细文档
### C3盒子模型
- ```box-sizing:border-box;```
- 边框包括进盒子宽高，padding不撑大盒子尺寸
- ```box-sizing:content-box;```是传统盒子模型，宽高只算内容，不算宽高，pc考虑兼容性就用这个

### 特殊样式
```css
    *{
    /* webkit额外初始化 */
    box-sizing:border-box;
    -webkit-box-sizing:border-box;
    /* 清除点击高亮 */
    -webkit-tap-highlight-color:transparent;
    }
    input{
    /* 移动端浏览器加上这个属性才能修改按钮和输入框自定义样式 */
    -webkit-appearance:none;
    }
    img,
    a{
    /* 禁用长按弹出的菜单 */
    -webkit-touch-callout:none;
    }
```

## 移动端常见布局
### 单独制作移动端页面
- 流式布局（百分比布局）
- flex弹性布局（强烈推荐）
- less+rem+媒体查询布局
- 混合布局

### 响应式页面兼容移动端
- 媒体查询
- bootstrap


*5-14*


# 流式布局
- 又名百分比布局，非固定像素布局
- 设置宽度为百分比，根据屏幕宽度进行伸缩，内容向两侧自动填充
- 是移动web开发比较常见的布局方式
## 实际中不能无限制放大缩小，需要加最大和最小宽或高
- max-width|max-height  最大宽度 高度
- min-width|min-height  最小宽度 高度
*!常用组合：*
`min-width:320px;max-width:npx;`

## 案例：1.京东移动首页流式布局.html

## 1.技术选型：
- 方案：单独制作移动页面
- 技术：流式布局
## 2.搭建文件夹结构
- css+images+upload+index.html(案例名就不搞index.html了)

## 3.设置视口标签，引入初始化样式
- 页面初始化样式，body100%，居中，限定最小最大宽度320px和960px，设置字体
```css
/* body初始化，有需要改的覆盖即可 */
body {
    margin: 0 auto;
    width: 100%;
    /* 设置最小最大宽度 */
    min-width: 320px;
    max-width: 640px;
    background: #fff;
    font-size: 1rem;
    font-family: -apple-system, Helvetica, sans-serif;
    line-height: 1.5;
    color: #666;
}
```

## 布局分析
- header.app
- search-wrap
- main-content
- nav
- news
### 结构
```html
<body>
    <!-- header -->
    <header class="app">
        <ul>
            <li>
                <img src="images/01-05.png">
            </li>
            <li>
                <img src="images/01-03.png">
            </li>
            <li>
                打开京东App，购物更轻松
            </li>
            <li>
                立即打开
            </li>
        </ul>
    </header>
    <!-- search -->
    <div class="search-wrap">
        <div class="search-btn"></div>
        <div class="search">
            <div class="jd-icon"></div>
            <div class="sou-icon"></div>
            <!-- <input type="search"> -->
        </div>
        <div class="search-login">登录</div>
    </div>

    <!-- main -->
    <div class="main-content">
        <div class="slider">
            <img src="upload/01-01.dpg" alt="">
        </div>
        <!-- 品牌日 -->
        <div class="brand">
          <!-- dov*3 -->
          <div><img src="upload/01-10.dpg" alt=""></div>


        </div>
    </div>

    <!-- nav -->
    <div class="nav clearfix">
      <!-- a*10 -->
        <a href="#">
            <img src="upload/01-02.webp" alt="">
            <span>京东超市</span>
        </a>
    </div>
<!-- news -->
    <div class="news">
      <!-- a*3 -->
        <a href="#"><img src="upload/01-06.dpg" alt=""></a>
    </div>
</body>
</html>
```


# flex布局
## flex是flexible box的缩写，意为弹性布局，具有极大灵活性，任何容器都可以指定为flex布局
- 父盒子设为flex布局后，子元素的float clear vertical-align属性将失效
- flex布局的别名：伸缩布局 弹性布局 伸缩盒布局 弹性盒布局

## 布局原理
- 采用flex布局的元素，称为flex container，简称“容器”,他的子元素自动成为容器成员，成为flex item，简称“项目”
- 子容器可以横向纵向自由排列
- 总结：通过给父级加flex属性，控制子盒子位置和排列方式

## 常见父项属性
| 父项属性        | 说明                                              |
| --------------- | ------------------------------------------------- |
| flex-direction  | 设置主轴方向                                      |
| justify-content | 设置主轴上的子元素排列方式                        |
| flex-wrap       | 设置子元素是否换行                                |
| align-content   | 设置侧轴上子元素排列方式（多行）                  |
| align-items     | 设置侧轴上子元素排列方式（单行）                  |
| flex-flow       | 复合属性，相当于同时设置flex-direction和flex-wrap |

### flex-direction 设置主轴方向
#### flex布局中，分为主轴侧轴，同样的叫法：行和列，x轴y轴
- 默认主轴方向就是x轴方向，水平向右
- 默认侧轴方向就是y轴方向，垂直向下
#### 属性值
*!主轴侧轴是会变化的，确定谁是主轴后，垂直对应的另一条轴就是侧轴，子元素跟着主轴排列*
| 属性值         | 说明     |
| -------------- | -------- |
| row（默认）    | 从左到右 |
| row-reverse    | 从右到左 |
| column（默认） | 从上到下 |
| column-reverse | 从下到上 |

*reverse翻转的意思*