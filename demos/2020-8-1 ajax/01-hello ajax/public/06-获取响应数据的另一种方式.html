<DOCTYPE html>
  <html>
    <head>
      <meta charset="UTF-8" />
      <title>Document</title>
    </head>
    <body>
      <p>
        onload事件：不兼容ie低版本 不需要判断ajax状态码 只调用一次<br>
        onreadystatechange事件： 兼容ie低版本 需要判断ajax状态码 被调用多次<br>
        onload比后者效率高 更简洁 尽量用onload
      </p>

      <script>
        var xhr = new XMLHttpRequest();
        // 0 已经创建ajax对象 但还没初始化
        console.log(xhr.readyState);
        xhr.open("get", "http://localhost:3000/readyState");
        // 1 已经对ajax对象进行配置 但还没发送请求
        console.log(xhr.readyState);
        // 当ajax状态码改变时触发
        xhr.onreadystatechange = function () {
          // 2 3 4的状态码都需要通过状态码改变事件获取
          // 2 请求已经发送
          // 3 已经接收到服务器端部分响应数据
          // 4 响应数据已经接收完成
          console.log(xhr.readyState);
        };
        xhr.send();
      </script>
    </body>
  </html></DOCTYPE
>
